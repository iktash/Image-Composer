<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Image composer</title>

	<link href='http://fonts.googleapis.com/css?family=PT+Serif&subset=latin,cyrillic' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" type="text/css" href="img-comp.css">
	<link rel="stylesheet" type="text/css" href="composerCanvas.css">

	<script src="angular.min.js"></script>
	<script src="img-comp.js"></script>
	<script src="UploadImage.service.js"></script>
	<script src="ImageCanvas.service.js"></script>
	<script src="dropzone.directive.js"></script>
	<script src="setDragData.directive.js"></script>
	<script src="composerCanvas.directive.js"></script>
</head>
<body data-ng-app="image-composer">

<ol class="cont top-margin--big" data-ng-controller="ComposerCtrl">
	<li class="bg--1" data-dropzone="uploadImages" data-over-class="bg--over">
		<div class="number">1</div>
		<div class="action">
			Upload some new images (or just drop them here)
			<div class="action-area">
				<input
					type="file"
					multiple
					onchange="angular.element(this).scope().uploadImages(event, this)"
					class="high"
				>
			</div>
		</div>
	</li>
	<li class="bg--2" data-ng-class="{'step-inactive': !step2}">
		<div class="number">2</div>
		<div class="action">
			Place images over canvas' sides
			<div class="action-area center-text">
				<div data-ng-show="step2">
					<img
					    data-ng-src="{{ src }}"
					    data-ng-repeat="src in images track by $index"
					    data-set-drag-data="{{ src }}";
					    class="images-holder-img"
					>
					<br data-ng-show="images.length > 0">
					<composer-canvas
						data-result="resulting_image_url"
						data-resize="true"
					>
					</composer-canvas>
				</div>
			</div>
		</div>
	</li>
	<li class="bg--3" data-ng-class="{'step-inactive': !step3}">
		<div class="number">3</div>
		<div class="action">
			Dowload resulting image
			<div class="action-area">
				<div data-ng-show="step3">
					<br>
					<table class="download">
						<tr>
							<td class="center-text text--smaller">
								<img ng-src="{{ resulting_image_url }}" class="thumb">
								<br>
								({{ resulting_resolution.width }} x {{ resulting_resolution.height }})
							</td>
							<td class="pad-left">
								<span class="text--smaller">
									right click on thumbnail and save the image
								</span>
								<br>
								<span class="text--smaller">
									or 
									<a
										href="#"
										data-ng-click="openResultingImage()"
										data-ng-show="step3"
									>
										open image full size in a new window
									</a>
								</span>	
							</td>
						</tr>
					</table>		
				</div>
			</div>
		</div>
	</li>
</ol>

</body>
</html>
